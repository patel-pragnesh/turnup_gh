function WPATH(i){var t=i.lastIndexOf("/"),e=-1===t?"com.mcongrove.slideMenu/"+i:i.substring(0,t)+"/com.mcongrove.slideMenu/"+i.substring(t+1);return e}function __processArg(i,t){var e=null;return i&&(e=i[t]||null,delete i[t]),e}function Controller(){function i(i){"undefined"!=typeof i.index&&e.setIndex(i.index)}function t(i){for(var t=0;t<i.length;t++)if(i[t].menuHeader){var e=Ti.UI.createView({top:"0dp",height:"47dp",width:Ti.UI.FILL,backgroundColor:s.headingBackground}),o=Ti.UI.createLabel({text:i[t].menuHeader,top:"0dp",bottom:"3dp",left:"13dp",height:"47dp",font:{fontSize:"18dp",fontWeight:"HelveticaNeue-Light"},color:s.headingText,touchEnabled:!1,verticalAlignment:Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,isHeader:!0});e.add(o);var l=Ti.UI.createTableViewSection({headerView:e});r.push(l)}}new(require("alloy/widget"))("com.mcongrove.slideMenu"),this.__widgetId="com.mcongrove.slideMenu",require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="widget",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,o={};e.__views.Wrapper=Ti.UI.createView({width:"200dp",top:"0dp",left:"-200dp",backgroundColor:"#000",id:"Wrapper"}),e.__views.Wrapper&&e.addTopLevelView(e.__views.Wrapper),e.__views.Nodes=Ti.UI.createTableView({top:"0dp",backgroundColor:"#111",separatorColor:"#222",separatorStyle:Ti.UI.iPhone.TableViewSeparatorStyle.SINGLE_LINE,id:"Nodes"}),e.__views.Wrapper.add(e.__views.Nodes),o.destroy=function(){},_.extend(e,e.__views);var s,r=[],l=[];e.init=function(o){if(r=[],l=[],s="undefined"!=typeof o.color?o.color:null,t(o.nodes),r.length>0)var a=-1;for(var y=0;y<o.nodes.length;y++){o.nodes[y].menuHeader&&a++;var n=Ti.UI.createTableViewRow({id:o.nodes[y].id,height:"47dp",backgroundcolor:"#111",backgroundSelectedColor:"#222",selectedBackgroundColor:"#222"}),d=Ti.UI.createLabel({text:o.nodes[y].title,top:"0dp",left:"47dp",right:"13dp",height:"46dp",font:{fontSize:"16dp",fontFamily:"HelveticaNeue-Light"},color:"#FFF",touchEnabled:!0});if(o.nodes[y].image){var p=Ti.UI.createImageView({image:o.nodes[y].image,width:"21dp",height:"21dp",top:"13dp",left:"13dp",touchEnabled:!1,preventDefaultImage:!0});n.add(p)}n.add(d),r.length>0?(r[a].add(n),y+1!==o.nodes.length?o.nodes[y+1].menuHeader&&e.Nodes.appendSection(r[a]):e.Nodes.appendSection(r[a])):l.push(n)}l.length>0&&e.Nodes.setData(l),e.Nodes.removeEventListener("click",i),e.Nodes.addEventListener("click",i)},e.clear=function(){e.Nodes.setData([]),e.Nodes.removeAllChildren()},e.setIndex=function(i){e.Nodes.selectRow(i)},!0&&parseInt(Ti.Platform.version.split(".")[0],10)>=7&&(e.Nodes.top="20dp"),_.extend(e,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;