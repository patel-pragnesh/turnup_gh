function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="itemGridLayout",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,i={},t={};e.__views.itemGridLayout=Ti.UI.createView({layout:"vertical",width:Ti.UI.SIZE,height:Ti.UI.SIZE,id:"itemGridLayout"}),e.__views.itemGridLayout&&e.addTopLevelView(e.__views.itemGridLayout),d?e.__views.itemGridLayout.addEventListener("click",d):t["$.__views.itemGridLayout!click!openItemDetail"]=!0,e.__views.itemImgView=Ti.UI.createView({id:"itemImgView",zIndex:"1"}),e.__views.itemGridLayout.add(e.__views.itemImgView),e.__views.itemImg=Ti.UI.createImageView({width:160,height:160,borderWidth:"1",borderColor:"#FFF",id:"itemImg"}),e.__views.itemImgView.add(e.__views.itemImg),e.__views.shadow=Ti.UI.createImageView({backgroundImage:"/images/shadow.png",width:320,height:56,opacity:.8,bottom:0,id:"shadow"}),e.__views.itemImgView.add(e.__views.shadow),e.__views.ItemName=Ti.UI.createLabel({font:{fontSize:18,fontFamily:"BodoniFLF"},height:Ti.UI.SIZE,left:5,bottom:5,color:"#FFF",text:"22",id:"ItemName"}),e.__views.itemImgView.add(e.__views.ItemName),e.__views.socialView=Ti.UI.createView({layout:"horizontal",width:Ti.UI.SIZE,height:45,left:0,top:5,bottom:0,id:"socialView"}),e.__views.itemGridLayout.add(e.__views.socialView),e.__views.imgLike=Ti.UI.createImageView({width:18,height:18,left:5,right:5,top:0,bottom:0,id:"imgLike"}),e.__views.socialView.add(e.__views.imgLike),e.__views.likeCount=Ti.UI.createLabel({font:{fontSize:18,fontFamily:"BodoniFLF"},height:Ti.UI.SIZE,text:"0",id:"likeCount",color:"#454545"}),e.__views.socialView.add(e.__views.likeCount),i.destroy=function(){},_.extend(e,e.__views);var o=arguments[0]||{},r=require("icomoonlib"),a=require("platformSupport"),n=require("animation"),l=require("loadingWindow"),s=a.getGridPhotoSizeCalWidth(o.scale,o.viewWidth);e.itemImg.image=o.image,e.itemImg.width=s.width,e.itemImg.height=s.height,e.itemGridLayout.iHeight=s.height+45,e.itemGridLayout.iWidth=s.width,e.itemImgView.width=s.width,e.itemImgView.height=s.height,e.shadow.width=s.width,e.ItemName.text=o.title,e.likeCount.text=o.item.like_count;var d=function(){l.startLoading();var e=Alloy.createController("itemDetail",o).getView();n.in(e)},c=function(){var i=r.getIcon("panacea","thumbs-up",35,{color:Alloy.CFG.Colors.IconColor});e.imgLike.image=i,r.getIcon("panacea","comment",35,{color:Alloy.CFG.Colors.IconColor}),r.getIcon("panacea","thumbs-down",35,{color:Alloy.CFG.Colors.IconColor})};c(),t["$.__views.itemGridLayout!click!openItemDetail"]&&e.__views.itemGridLayout.addEventListener("click",d),_.extend(e,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;