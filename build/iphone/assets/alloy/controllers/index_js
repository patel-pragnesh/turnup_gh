function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e){"undefined"!=typeof e.row.id&&t(e.row.id)}function t(t){if(0==t)"null"!=S?P("home",S):P("home","My Account");else if(1==t)c.name="Pick of the Week",P("newsList",c);else if(2==t)c.name=Alloy.CFG.Languages.lblPopular,P("popularList",c);else if(3==t)if(null!=Ti.App.Properties.getString("userId")){var i={name:Alloy.CFG.Languages.lblFavourite};P("favouriteList",i)}else{var i={name:Alloy.CFG.Languages.lblProfile};P("userProfile",i),n.SlideMenu.setIndex(4),p.loadCustomDialog("My Favourite",Alloy.CFG.Languages.needForFavouriteListMesssage)}else if(4==t){var i={name:Alloy.CFG.Languages.lblProfile};P("userProfile",i)}else if(5==t){var r=C.get(Ti.App.Properties.getString("userId"));null!=r&&r.destroy(),C.fetch(),Ti.App.Properties.setString("userId",null),"null"!=S?P("userProfile","homeData"):P("userProfile","My Account"),n.SlideMenu.clear(),n.SlideMenu.Nodes.removeEventListener("click",e),s(b)}o()}function i(){L=n.AppWrapper,n.AppWrapper.addEventListener("swipe",function(e){"right"==e.direction?r():"left"==e.direction&&o()})}function r(){L.animate({left:"200dp",right:"-200dp",duration:250,curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT}),n.SlideMenu.Wrapper.animate({left:"0dp",right:"0dp",duration:250,curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT}),E=!0}function o(){L.animate({left:"0dp",right:"0dp",duration:250,curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT}),n.SlideMenu.Wrapper.animate({left:"-200dp",duration:250,curve:Ti.UI.ANIMATION_CURVE_EASE_IN_OUT}),E=!1}function a(){E?o():r()}function s(t){n.SlideMenu.init({nodes:t,color:{headingBackground:"#000",headingText:"#FFF"}}),n.SlideMenu.setIndex(0),n.SlideMenu.Nodes.addEventListener("click",e)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var n=this,l={},d={};n.__views.index=Ti.UI.createWindow({backgroundColor:Alloy.CFG.Colors.MainColor,navBarHidden:!0,exitOnClose:!0,width:Ti.UI.FILL,height:Ti.UI.FILL,id:"index"}),n.__views.index&&n.addTopLevelView(n.__views.index),n.__views.SlideMenu=Alloy.createWidget("com.mcongrove.slideMenu","widget",{id:"SlideMenu",__parentSymbol:n.__views.index}),n.__views.SlideMenu.setParent(n.__views.index),n.__views.AppWrapper=Ti.UI.createView({layout:"vertical",id:"AppWrapper"}),n.__views.index.add(n.__views.AppWrapper),n.__views.__alloyId6=Ti.UI.createView({height:Ti.UI.SIZE,width:Ti.UI.FILL,backgroundColor:Alloy.CFG.Colors.MainColor,top:0,id:"__alloyId6"}),n.__views.AppWrapper.add(n.__views.__alloyId6),n.__views.__alloyId7=Ti.UI.createView({height:Ti.UI.SIZE,id:"__alloyId7"}),n.__views.__alloyId6.add(n.__views.__alloyId7),n.__views.mainTitle=Ti.UI.createLabel({font:{fontSize:20,fontFamily:"Jengle Jungallery"},height:44.4,color:"#FFF",left:"80",id:"mainTitle",text:"Ready to Get Lit?"}),n.__views.__alloyId7.add(n.__views.mainTitle),a?n.__views.mainTitle.addEventListener("click",a):d["$.__views.mainTitle!click!openLeftMenu"]=!0,n.__views.imgSideMenu=Ti.UI.createImageView({width:20,height:20,left:5,right:5,id:"imgSideMenu"}),n.__views.__alloyId7.add(n.__views.imgSideMenu),a?n.__views.imgSideMenu.addEventListener("click",a):d["$.__views.imgSideMenu!click!openLeftMenu"]=!0,n.__views.midContainer=Ti.UI.createView({id:"midContainer",bottom:"0"}),n.__views.AppWrapper.add(n.__views.midContainer),l.destroy=function(){},_.extend(n,n.__views);var h=require("platformSupport");require("animation");var c,u=require("icomoonlib"),g=require("loader"),m=require("loadingWindow"),p=require("psdialog"),I=u.getIcon("panacea","profile",35,{color:Alloy.CFG.Colors.SideMenuIconColor}),w=u.getIcon("panacea","home",35,{color:Alloy.CFG.Colors.SideMenuIconColor}),f=u.getIcon("panacea","navicon",35,{color:Alloy.CFG.Colors.IconWhite}),v=u.getIcon("panacea","star",35,{color:Alloy.CFG.Colors.SideMenuIconColor}),T=u.getIcon("panacea","rss",35,{color:Alloy.CFG.Colors.SideMenuIconColor}),y=u.getIcon("panacea","sign-out",35,{color:Alloy.CFG.Colors.SideMenuIconColor}),A=u.getIcon("panacea","tag",35,{color:Alloy.CFG.Colors.SideMenuIconColor}),L=null,E=!1,S=null,C=Alloy.Collections.users;n.imgSideMenu.image=f,Alloy.isTablet&&(n.imgSideMenu.width=25,n.imgSideMenu.height=25),h.isiOS7Plus()&&(n.AppWrapper.top=20);var b=[{menuHeader:Alloy.CFG.Languages.appName,id:0,title:Alloy.CFG.Languages.lblHome,image:w},{id:1,title:Alloy.CFG.Languages.lblNewsFeed,image:T},{id:2,title:Alloy.CFG.Languages.lblPopular,image:A},{id:3,title:Alloy.CFG.Languages.lblFavourite,image:v},{id:4,title:Alloy.CFG.Languages.lblProfile,image:I}],F=[{menuHeader:Alloy.CFG.Languages.appName,id:0,title:Alloy.CFG.Languages.lblHome,image:w},{id:1,title:Alloy.CFG.Languages.lblNewsFeed,image:T},{id:2,title:Alloy.CFG.Languages.lblPopular,image:A},{id:3,title:Alloy.CFG.Languages.lblFavourite,image:v},{id:4,title:Alloy.CFG.Languages.lblProfile,image:I},{id:5,title:Alloy.CFG.Languages.lbllogout,image:y}],P=function(e,t){var i=Alloy.createController(e,t).getView();n.midContainer.removeAllChildren(),n.midContainer.add(i),n.mainTitle.text=null!=t?t.name:Alloy.CFG.Languages.appName},U=function(e){0!=e.length?(S=e,e.name=Alloy.CFG.Languages.appName,P("home",e)):(p.loadCustomDialog("Lit!Up",Alloy.CFG.Languages.dataNotFound),m.endLoading())},N=function(){var e={callbackFunction:U,url:Alloy.CFG.Urls.baseURL+Alloy.CFG.Urls.getCategoriesWithThreeItems};g.get(e)},x=function(){var e={callbackFunction:M,url:Alloy.CFG.Urls.baseURL+Alloy.CFG.Urls.getFeeds};g.get(e)},M=function(e){null!=e&&e.length>0&&(c=e)};n.index.addEventListener("open",function(){m.startLoading(),N(),x(),i(),s(null!=Ti.App.Properties.getString("userId")?F:b)}),Ti.App.addEventListener("refreshMenu",function(){n.SlideMenu.clear(),n.SlideMenu.Nodes.removeEventListener("click",e),s(F)}),n.index.open(),d["$.__views.mainTitle!click!openLeftMenu"]&&n.__views.mainTitle.addEventListener("click",a),d["$.__views.imgSideMenu!click!openLeftMenu"]&&n.__views.imgSideMenu.addEventListener("click",a),_.extend(n,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;