function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="inquiry",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={},i={};e.__views.inquiry=Ti.UI.createWindow({backgroundColor:Alloy.CFG.Colors.BackgroundColor,opacity:1,width:Ti.UI.FILL,height:Ti.UI.FILL,layout:"vertical",navBarHidden:!0,id:"inquiry"}),e.__views.inquiry&&e.addTopLevelView(e.__views.inquiry),e.__views.__alloyId8=Ti.UI.createView({height:Ti.UI.SIZE,width:Ti.UI.FILL,backgroundColor:Alloy.CFG.Colors.MainColor,top:0,id:"__alloyId8"}),e.__views.inquiry.add(e.__views.__alloyId8),e.__views.AppWrapper=Ti.UI.createView({height:Ti.UI.SIZE,id:"AppWrapper"}),e.__views.__alloyId8.add(e.__views.AppWrapper),e.__views.mainTitle=Ti.UI.createLabel({font:{fontSize:20,fontFamily:"Jengle Jungallery"},height:44.4,color:"#FFF",left:"25",id:"mainTitle",text:"Send Inquiry"}),e.__views.AppWrapper.add(e.__views.mainTitle),h?e.__views.mainTitle.addEventListener("click",h):i["$.__views.mainTitle!click!closeWindow"]=!0,e.__views.imgBack=Ti.UI.createImageView({width:30,height:30,left:0,right:5,id:"imgBack"}),e.__views.AppWrapper.add(e.__views.imgBack),h?e.__views.imgBack.addEventListener("click",h):i["$.__views.imgBack!click!closeWindow"]=!0,e.__views.__alloyId9=Ti.UI.createScrollView({height:Ti.UI.FILL,width:Ti.UI.FILL,layout:"vertical",id:"__alloyId9"}),e.__views.inquiry.add(e.__views.__alloyId9),e.__views.reviewEntryView=Ti.UI.createView({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.SIZE,left:15,right:15,top:5,id:"reviewEntryView"}),e.__views.__alloyId9.add(e.__views.reviewEntryView),e.__views.__alloyId10=Ti.UI.createView({layout:"horizontal",width:Ti.UI.SIZE,height:Ti.UI.SIZE,top:5,left:"0",id:"__alloyId10"}),e.__views.reviewEntryView.add(e.__views.__alloyId10),e.__views.imgInquiryMessage=Ti.UI.createImageView({width:20,height:20,left:5,right:5,top:15,id:"imgInquiryMessage"}),e.__views.__alloyId10.add(e.__views.imgInquiryMessage),e.__views.lblInquiryMessage=Ti.UI.createLabel({font:{fontSize:19,fontFamily:"BodoniFLF",fontWeight:"bold"},height:Ti.UI.SIZE,textAlign:"left",text:"Your Inquiry Message",top:"11",color:"#464646",id:"lblInquiryMessage"}),e.__views.__alloyId10.add(e.__views.lblInquiryMessage),e.__views.txtMessage=Ti.UI.createTextArea({borderWidth:1,borderColor:Alloy.CFG.Colors.MainColor,top:5,width:"98%",left:"1%",right:"1%",backgroundColor:"#EEE",color:"#222",font:{fontFamily:"BodoniFLF"},borderRadius:3,height:120,paddingLeft:5,paddingRight:5,id:"txtMessage",hintText:"Inquiry Message"}),e.__views.reviewEntryView.add(e.__views.txtMessage),e.__views.__alloyId11=Ti.UI.createView({layout:"horizontal",width:Ti.UI.SIZE,height:Ti.UI.SIZE,top:5,left:"0",id:"__alloyId11"}),e.__views.reviewEntryView.add(e.__views.__alloyId11),e.__views.imgInquiryName=Ti.UI.createImageView({width:20,height:20,left:5,right:5,top:15,id:"imgInquiryName"}),e.__views.__alloyId11.add(e.__views.imgInquiryName),e.__views.lblYourName=Ti.UI.createLabel({font:{fontSize:19,fontFamily:"BodoniFLF",fontWeight:"bold"},height:Ti.UI.SIZE,textAlign:"left",text:"Your Name",top:"13",color:"#464646",id:"lblYourName"}),e.__views.__alloyId11.add(e.__views.lblYourName),e.__views.txtName=Ti.UI.createTextField({borderWidth:1,borderColor:Alloy.CFG.Colors.MainColor,top:5,width:"98%",left:"1%",right:"1%",backgroundColor:"#EEE",color:"#222",font:{fontFamily:"BodoniFLF"},borderRadius:3,height:40,paddingLeft:5,paddingRight:5,id:"txtName",hintText:"User Name"}),e.__views.reviewEntryView.add(e.__views.txtName),e.__views.__alloyId12=Ti.UI.createView({layout:"horizontal",width:Ti.UI.SIZE,height:Ti.UI.SIZE,top:5,left:"0",id:"__alloyId12"}),e.__views.reviewEntryView.add(e.__views.__alloyId12),e.__views.imgInquiryEmail=Ti.UI.createImageView({width:15,height:15,left:5,right:5,top:15,id:"imgInquiryEmail"}),e.__views.__alloyId12.add(e.__views.imgInquiryEmail),e.__views.lblEmail=Ti.UI.createLabel({font:{fontSize:19,fontFamily:"BodoniFLF",fontWeight:"bold"},height:Ti.UI.SIZE,textAlign:"left",text:"Email",top:"9",color:"#464646",id:"lblEmail"}),e.__views.__alloyId12.add(e.__views.lblEmail),e.__views.txtEmail=Ti.UI.createTextField({borderWidth:1,borderColor:Alloy.CFG.Colors.MainColor,top:5,width:"98%",left:"1%",right:"1%",backgroundColor:"#EEE",color:"#222",font:{fontFamily:"BodoniFLF"},borderRadius:3,height:40,paddingLeft:5,paddingRight:5,id:"txtEmail",hintText:"Email"}),e.__views.reviewEntryView.add(e.__views.txtEmail),e.__views.btnSend=Ti.UI.createButton({font:{fontSize:18,fontFamily:"BodoniFLF"},height:33.3,backgroundColor:Alloy.CFG.Colors.MainColor,backgroundSelectedColor:Alloy.CFG.Colors.MainColor_Dark,borderColor:Alloy.CFG.Colors.MainPressedColor,color:Alloy.CFG.Colors.TextColor,backgroundImage:"null",selectedColor:"#AAA",top:20,bottom:10,width:"98%",left:"1%",right:"1%",id:"btnSend",title:" Send Inquiry "}),e.__views.reviewEntryView.add(e.__views.btnSend),g?e.__views.btnSend.addEventListener("click",g):i["$.__views.btnSend!click!doInquiry"]=!0,t.destroy=function(){},_.extend(e,e.__views);var o=arguments[0]||{},r=require("platformSupport"),a=require("animation"),s=require("icomoonlib"),n=require("loader"),l=require("validationRules"),d=require("psdialog"),c=require("loadingWindow");c.endLoading();var u=0;r.isiOS7Plus()&&(e.AppWrapper.top=20);var h=function(){a.out(e.inquiry)},g=function(){if(p())if(1==Titanium.Network.online){c.startLoading();var t={name:e.txtName.value,email:e.txtEmail.value,message:e.txtMessage.value},i={callbackFunction:m,url:Alloy.CFG.Urls.baseURL+Alloy.CFG.Urls.postInquiry+o.item_id,payload:t};n.post(i)}else d.loadCustomDialog("Inquiry",Alloy.CFG.Languages.offlineMessage)},m=function(e){c.endLoading(),e.success&&(d.loadCustomDialog("Inquiry",Alloy.CFG.Languages.inquirySuccessMessage),h())},p=function(){return""==e.txtEmail.value?(l.validationFailAction(e.txtEmail),u=0,!1):l.validateEmail(e.txtEmail.value)?""==e.txtName.value?(l.validationFailAction(e.txtName),u=0,!1):""==e.txtMessage.value?(l.validationFailAction(e.txtMessage),u=0,!1):!0:(l.validationFailAction(e.txtEmail),u=0,!1)};e.txtEmail.addEventListener("change",function(){0==u&&(l.backToNormal(e.txtEmail),u=1)}),e.txtName.addEventListener("change",function(){0==u&&(l.backToNormal(e.txtName),u=1)}),e.txtMessage.addEventListener("change",function(){0==u&&(l.backToNormal(e.txtMessage),u=1)});var I=function(){var t=s.getIcon("panacea","envelope",35,{color:Alloy.CFG.Colors.IconColor});e.imgInquiryEmail.image=t;var i=s.getIcon("panacea","user",35,{color:Alloy.CFG.Colors.IconColor});e.imgInquiryName.image=i;var o=s.getIcon("panacea","comment",35,{color:Alloy.CFG.Colors.IconColor});e.imgInquiryMessage.image=o;var r=s.getIcon("panacea","back",35,{color:Alloy.CFG.Colors.IconWhite});e.imgBack.image=r},w=function(){e.lblInquiryMessage.text=Alloy.CFG.Languages.lblInquiryMessage,e.lblYourName.text=Alloy.CFG.Languages.lblYourName,e.lblEmail.text=Alloy.CFG.Languages.lblEmail,e.btnSend.title=Alloy.CFG.Languages.btnSendInquiry},v=function(){I(),w(),a.slowlyAppear(e.reviewEntryView)};e.inquiry.addEventListener("open",function(){v()}),i["$.__views.mainTitle!click!closeWindow"]&&e.__views.mainTitle.addEventListener("click",h),i["$.__views.imgBack!click!closeWindow"]&&e.__views.imgBack.addEventListener("click",h),i["$.__views.btnSend!click!doInquiry"]&&e.__views.btnSend.addEventListener("click",g),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;