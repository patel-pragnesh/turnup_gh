function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="newsDetail",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,i={},t={};e.__views.newsDetail=Ti.UI.createWindow({backgroundColor:Alloy.CFG.Colors.BackgroundColor,opacity:1,width:Ti.UI.FILL,height:Ti.UI.FILL,layout:"vertical",navBarHidden:!0,id:"newsDetail"}),e.__views.newsDetail&&e.addTopLevelView(e.__views.newsDetail),e.__views.__alloyId20=Ti.UI.createView({height:Ti.UI.SIZE,width:Ti.UI.FILL,backgroundColor:Alloy.CFG.Colors.MainColor,top:0,id:"__alloyId20"}),e.__views.newsDetail.add(e.__views.__alloyId20),e.__views.AppWrapper=Ti.UI.createView({height:Ti.UI.SIZE,id:"AppWrapper"}),e.__views.__alloyId20.add(e.__views.AppWrapper),e.__views.mainTitle=Ti.UI.createLabel({font:{fontSize:20,fontFamily:"Jengle Jungallery"},height:44.4,color:"#FFF",left:"30",id:"mainTitle",text:"Message Details"}),e.__views.AppWrapper.add(e.__views.mainTitle),s?e.__views.mainTitle.addEventListener("click",s):t["$.__views.mainTitle!click!closeWindow"]=!0,e.__views.imgBack=Ti.UI.createImageView({left:6,width:30,height:30,right:6,id:"imgBack"}),e.__views.AppWrapper.add(e.__views.imgBack),s?e.__views.imgBack.addEventListener("click",s):t["$.__views.imgBack!click!closeWindow"]=!0,e.__views.midContainer=Ti.UI.createScrollView({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.FILL,id:"midContainer"}),e.__views.newsDetail.add(e.__views.midContainer),e.__views.itemImagesViewContainer=Ti.UI.createView({width:Ti.UI.FILL,height:Ti.UI.SIZE,id:"itemImagesViewContainer"}),e.__views.midContainer.add(e.__views.itemImagesViewContainer),e.__views.itemImagesView=Ti.UI.createImageView({width:320,height:200,id:"itemImagesView"}),e.__views.itemImagesViewContainer.add(e.__views.itemImagesView),d?e.__views.itemImagesView.addEventListener("click",d):t["$.__views.itemImagesView!click!openSlider"]=!0,e.__views.__alloyId21=Ti.UI.createView({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.FILL,backgroundColor:"white",id:"__alloyId21"}),e.__views.midContainer.add(e.__views.__alloyId21),e.__views.thumbContainerView=Ti.UI.createView({layout:"horizontal",width:Ti.UI.SIZE,top:10,id:"thumbContainerView",height:"55"}),e.__views.__alloyId21.add(e.__views.thumbContainerView),e.__views.imgLeft=Ti.UI.createImageView({width:20,height:20,left:6,right:6,id:"imgLeft",image:"/images/backward.png"}),e.__views.thumbContainerView.add(e.__views.imgLeft),h?e.__views.imgLeft.addEventListener("click",h):t["$.__views.imgLeft!click!gotoLeftMost"]=!0,e.__views.thumbImagesScrollView=Ti.UI.createScrollView({layout:"horizontal",width:Ti.UI.FILL,showHorizontalScrollIndicator:!0,showVerticalScrollIndicator:!1,scrollType:"horizontal",contentWidth:1250,id:"thumbImagesScrollView",borderWidth:"0"}),e.__views.thumbContainerView.add(e.__views.thumbImagesScrollView),e.__views.imgRight=Ti.UI.createImageView({width:20,height:20,left:6,right:6,id:"imgRight",image:"/images/forward.png"}),e.__views.thumbContainerView.add(e.__views.imgRight),g?e.__views.imgRight.addEventListener("click",g):t["$.__views.imgRight!click!gotoRightMost"]=!0,e.__views.infoContainer=Ti.UI.createView({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.SIZE,id:"infoContainer"}),e.__views.__alloyId21.add(e.__views.infoContainer),e.__views.lblTitle=Ti.UI.createLabel({font:{fontSize:19,fontFamily:"BodoniFLF",fontWeight:"bold"},height:Ti.UI.SIZE,textAlign:"left",width:Ti.UI.FILL,top:10,id:"lblTitle",color:"#464646"}),e.__views.infoContainer.add(e.__views.lblTitle),e.__views.__alloyId22=Ti.UI.createImageView({width:Ti.UI.FILL,height:.7,image:"/images/strikeDDD.png",top:5,bottom:10,id:"__alloyId22"}),e.__views.infoContainer.add(e.__views.__alloyId22),e.__views.lblDescription=Ti.UI.createLabel({font:{fontSize:18,fontFamily:"BodoniFLF"},height:Ti.UI.SIZE,textAlign:"left",width:Ti.UI.FILL,text:"",id:"lblDescription",color:"#464646"}),e.__views.infoContainer.add(e.__views.lblDescription),e.__views.__alloyId23=Ti.UI.createView({top:5,backgroundImage:"/images/line.png",height:1,width:Ti.UI.FILL,id:"__alloyId23"}),e.__views.infoContainer.add(e.__views.__alloyId23),i.destroy=function(){},_.extend(e,e.__views);var o=arguments[0]||{},a=require("platformSupport"),r=require("animation"),l=require("icomoonlib");require("loader"),require("validationRules"),require("psdialog");var n=require("loadingWindow");a.isiOS7Plus()&&(e.AppWrapper.top=20);var s=function(){r.out(e.newsDetail)},d=function(){o.fromWhere="feedDetail";var e=Alloy.createController("slider",o).getView();r.in(e)},c=function(){if(null!=o){var i=a.getScreenWidth(),t="";e.itemImagesView.image=Alloy.CFG.Urls.imagePathURL+o.images[0].path;var i=a.getScreenWidth(),r=a.getScreenHeight(),l=[];l.width=o.images[0].width,l.height=o.images[0].height;var n=a.getGridPhotoSizeCalWidth(l,i);e.itemImagesView.width=n.width,e.itemImagesView.height=n.height,e.itemImagesViewContainer.height=r/2.2,e.lblTitle.text=o.title,e.lblDescription.text=o.description;for(var s=0;s<o.images.length;s++){if(0==s)var d={imagePath:Alloy.CFG.Urls.imagePathURL+o.images[s].path,thumbId:s,width:o.images[s].width,height:o.images[s].height,selected:!0,loadSelctedItemImageFunction:"loadSlectedFeedImage"};else var d={imagePath:Alloy.CFG.Urls.imagePathURL+o.images[s].path,thumbId:s,width:o.images[s].width,height:o.images[s].height,selected:!1,loadSelctedItemImageFunction:"loadSlectedFeedImage"};contentView=Alloy.createController("thumbImages",d).getView(),e.thumbImagesScrollView.add(contentView)}e.thumbImagesScrollView.contentWidth=parseInt(70*o.images.length)+150,e.thumbImagesScrollView.width=a.getScreenWidth()-70,Alloy.isTablet?(e.thumbImagesScrollView.width=400,e.thumbContainerView.left=parseInt(parseInt(a.getScreenWidth())-e.thumbContainerView.width)/2,t=50,e.lblTitle.top=10,a.setNormalFontForTablet(e.lblDescription,16)):t=20,e.midContainer.applyProperties({width:i,contentWidth:i}),e.infoContainer.applyProperties({left:t,right:t})}else console.log("There is no shop data yet. Please fill from admin panel.")};Ti.App.addEventListener("loadSlectedFeedImage",function(){r.slowlyAppear(e.itemImagesView);var i=Ti.App.Properties.getString("selectedThumbImageIndex");e.itemImagesView.image=Alloy.CFG.Urls.imagePathURL+o.images[i].path;var t=a.getScreenWidth(),l=[];l.width=o.images[i].width,l.height=o.images[i].height;var n=a.getGridPhotoSizeCalWidth(l,t);e.itemImagesView.width=n.width,e.itemImagesView.height=n.height,e.thumbImagesScrollView.removeAllChildren();for(var s=0;s<o.images.length;s++){if(s==i)var d={imagePath:Alloy.CFG.Urls.imagePathURL+o.images[s].path,thumbId:s,width:o.images[s].width,height:o.images[s].height,selected:!0,loadSelctedItemImageFunction:"loadSlectedFeedImage"};else var d={imagePath:Alloy.CFG.Urls.imagePathURL+o.images[s].path,thumbId:s,width:o.images[s].width,height:o.images[s].height,selected:!1,loadSelctedItemImageFunction:"loadSlectedFeedImage"};contentView=Alloy.createController("thumbImages",d).getView(),e.thumbImagesScrollView.add(contentView)}});var g=function(){e.thumbImagesScrollView.scrollToBottom()},h=function(){e.thumbImagesScrollView.scrollTo(0,0)},m=function(){var i=l.getIcon("panacea","back",35,{color:Alloy.CFG.Colors.IconWhite});e.imgBack.image=i},u=function(){n.endLoading(),c(),m()};u(),t["$.__views.mainTitle!click!closeWindow"]&&e.__views.mainTitle.addEventListener("click",s),t["$.__views.imgBack!click!closeWindow"]&&e.__views.imgBack.addEventListener("click",s),t["$.__views.itemImagesView!click!openSlider"]&&e.__views.itemImagesView.addEventListener("click",d),t["$.__views.imgLeft!click!gotoLeftMost"]&&e.__views.imgLeft.addEventListener("click",h),t["$.__views.imgRight!click!gotoRightMost"]&&e.__views.imgRight.addEventListener("click",g),_.extend(e,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;