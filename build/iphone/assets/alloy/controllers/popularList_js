function __processArg(e,i){var t=null;return e&&(t=e[i]||null,delete e[i]),t}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="popularList",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,i={};e.__views.itemGridView=Ti.UI.createScrollView({height:Ti.UI.FILL,width:Ti.UI.FILL,backgroundColor:"#FFFFFF",id:"itemGridView"}),e.__views.itemGridView&&e.addTopLevelView(e.__views.itemGridView),i.destroy=function(){},_.extend(e,e.__views);var t=require("platformSupport");require("animation"),require("loadingWindow");var o=arguments[0]||{};require("strings");var r=160,a=0,l=0,n=0,s=0,d=[],c=0,g=require("loader");require("icomoonlib");var m=function(){if(a=parseInt(l/r),s=l-a*r,r+=s/a,s%=a,null!=a)for(var e=0;a>e;e++)d.push(0);c=l-s},h=function(){for(var e=0,i=1;a>i;i++)d[e]>d[i]&&(e=i);return e},u=function(e){var i=Alloy.createController("itemGridLayout",e).getView();return i},w=function(i){var t=h(),o=t*r;i.left=o,i.top=d[t],d[t]+=i.iHeight,e.itemGridView.add(i)},I=function(){Alloy.isTablet&&(r=200),l=t.getScreenWidth(),n=t.getScreenHeight(),m(),e.itemGridView.contentWidth=c,e.itemGridView.width=c,e.itemGridView.left=s/2;for(var i=0;i<o.length;i++){var a={width:o[i].item.images[0].width,height:o[i].item.images[0].height};Ti.API.info(Alloy.CFG.Urls.imagePathURL+o[i].item.images[0].path);var d={image:Alloy.CFG.Urls.imagePathURL+o[i].item.images[0].path,title:o[i].item.name,like:21*i,msg:13*i,scale:a,viewWidth:r,item:o[i].item};w(u(d))}},p=function(){console.log(Alloy.CFG.Urls.baseURL+Alloy.CFG.Urls.getPopularItems+Ti.App.Properties.getString("userId"));var e={callbackFunction:v,url:Alloy.CFG.Urls.baseURL+Alloy.CFG.Urls.getPopularItems+Ti.App.Properties.getString("userId")};g.get(e)},v=function(e){o=e,I()};p(),_.extend(e,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;